<html>

<head>
    <meta charset='utf-8'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

<body>
    <button class="btn btn-primary" id="btn">抽奖</div>
        <script>
            function random(m, n) {
                return Math.ceil(Math.random() * (n - m + 1)) + m - 1;
            }

            const btn = document.querySelector('#btn');
            btn.addEventListener('click', function () {
                const p = new Promise((resolve, reject) => {
                    setTimeout(() => {
                        let n = random(1, 100);
                        if (n <= 30) {
                            resolve(n);
                        } else {
                            reject(n);
                        }
                    }, 100)
                });

                console.log(p);

                p.then((n) => {
                    alert(`${n}  success`);
                }, (n) => {
                    alert(`${n}  failed`);
                })
            })
        </script>
</body>

</html>